<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Protocol-related utilities"><meta name="keywords" content="rust, rustlang, rust-lang, wayland"><title>smithay::wayland - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-a6e10e60fb712b0f.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../static.files/light-5f7299aa2b503fb1.css"><link rel="stylesheet" disabled href="../../static.files/dark-dfb18ef8114bb428.css"><link rel="stylesheet" disabled href="../../static.files/ayu-4047a6aaddd3789d.css"><script id="default-settings" ></script><script src="../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../smithay/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../smithay/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module wayland</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">smithay</a>::<wbr><a class="mod" href="#">wayland</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/smithay/wayland/mod.rs.html#1-66">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Protocol-related utilities</p>
<p>This module contains several handlers to manage the Wayland protocol
and the clients.</p>
<h3 id="general-structure"><a href="#general-structure">General structure</a></h3>
<p>Most utilities provided in this module work in the same way:</p>
<ul>
<li>A module specific <code>*State</code> struct will take the wayland display as argument and
insert one or more globals into it through its constructor.</li>
<li>The module-<code>State</code> will have to be stored inside your global compositor state.
(The same type you parametrized [<code>wayland_server::Display</code>] over.)</li>
<li>You need to implement a module-specific <code>*Handler</code>-trait for your compositor state.
This implementation will be called when wayland events require custom handling.</li>
<li>Call the matching <code>delegate_*!</code> macro from smithay on your state to implement
some required <code>wayland_server</code> traits.</li>
<li>If you want to remove a previously inserted global, just drop the <code>*State</code>.</li>
</ul>
<h3 id="provided-helpers"><a href="#provided-helpers">Provided helpers</a></h3><h4 id="core-functionality"><a href="#core-functionality">Core functionality</a></h4>
<p>The most fundamental module is the <a href="compositor/index.html" title="compositor"><code>compositor</code></a> module, which provides the necessary
logic to handle the fundamental component by which clients build their windows: surfaces.
Following this, the <a href="shell/index.html" title="shell"><code>shell</code></a> module contains the logic allowing clients to use their
surface to build concrete windows with the usual interactions. Different kind of shells
exist, but in general you will want to support at least the <a href="shell/xdg/index.html"><code>xdg</code></a> variant,
which is the standard used by most applications.</p>
<p>Then, the <a href="seat/index.html" title="seat"><code>seat</code></a> module contains logic related to input handling. These helpers are used
to forward input (such as pointer action or keystrokes) to clients, and manage the input
focus of clients. Tightly coupled with it is the <a href="data_device/index.html" title="data_device"><code>data_device</code></a> module, which handles
cross-client interactions such as accessing the clipboard, or drag’n’drop actions.</p>
<p>The <a href="shm/index.html" title="shm"><code>shm</code></a> module provides the necessary logic for client to provide buffers defining the
contents of their windows using shared memory. This is the main mechanism used by clients
that are not hardware accelerated. As a complement, the <a href="dmabuf/index.html" title="dmabuf"><code>dmabuf</code></a> module provides support
hardware-accelerated clients; it is tightly linked to the
<a href="../backend/allocator/index.html"><code>backend::allocator</code></a> module.</p>
<p>The <a href="output/index.html" title="output"><code>output</code></a> module helps forwarding to clients information about the display monitors that
are available. This notably plays a key role in HiDPI handling, and more generally notifying
clients about whether they are currently visible or not (allowing them to stop drawing if they
are not, for example).</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="buffer/index.html" title="smithay::wayland::buffer mod">buffer</a></div><div class="item-right docblock-short">Buffer management traits.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="compositor/index.html" title="smithay::wayland::compositor mod">compositor</a></div><div class="item-right docblock-short">Utilities for handling surfaces, subsurfaces and regions</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="data_device/index.html" title="smithay::wayland::data_device mod">data_device</a></div><div class="item-right docblock-short">Utilities for manipulating the data devices</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="dmabuf/index.html" title="smithay::wayland::dmabuf mod">dmabuf</a></div><div class="item-right docblock-short">Linux DMABUF protocol</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="fractional_scale/index.html" title="smithay::wayland::fractional_scale mod">fractional_scale</a></div><div class="item-right docblock-short">Utilities for handling the <code>wp_fractional_scale</code> protocol</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="input_method/index.html" title="smithay::wayland::input_method mod">input_method</a></div><div class="item-right docblock-short">Utilities for input method support</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="keyboard_shortcuts_inhibit/index.html" title="smithay::wayland::keyboard_shortcuts_inhibit mod">keyboard_shortcuts_inhibit</a></div><div class="item-right docblock-short">Protocol for inhibiting the compositor keyboard shortcuts</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="output/index.html" title="smithay::wayland::output mod">output</a></div><div class="item-right docblock-short">WlOutput advertising capabilities</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="presentation/index.html" title="smithay::wayland::presentation mod">presentation</a></div><div class="item-right docblock-short">Utilities for handling the <code>wp_presentation</code> protocol</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="primary_selection/index.html" title="smithay::wayland::primary_selection mod">primary_selection</a></div><div class="item-right docblock-short">Utilities for manipulating the primary selection</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="seat/index.html" title="smithay::wayland::seat mod">seat</a></div><div class="item-right docblock-short">Seat global utilities</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="shell/index.html" title="smithay::wayland::shell mod">shell</a></div><div class="item-right docblock-short">Handler utilities for the various shell protocols</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="shm/index.html" title="smithay::wayland::shm mod">shm</a></div><div class="item-right docblock-short">SHM handling helpers</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="socket/index.html" title="smithay::wayland::socket mod">socket</a></div><div class="item-right docblock-short">Wayland listening socket.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tablet_manager/index.html" title="smithay::wayland::tablet_manager mod">tablet_manager</a></div><div class="item-right docblock-short">Utilities for graphics tablet support</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="text_input/index.html" title="smithay::wayland::text_input mod">text_input</a></div><div class="item-right docblock-short">Utilities for text input support</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="viewporter/index.html" title="smithay::wayland::viewporter mod">viewporter</a></div><div class="item-right docblock-short">Utilities for handling the <code>wp_viewporter</code> protocol</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="virtual_keyboard/index.html" title="smithay::wayland::virtual_keyboard mod">virtual_keyboard</a></div><div class="item-right docblock-short">Utilities for virtual keyboard support</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="xdg_activation/index.html" title="smithay::wayland::xdg_activation mod">xdg_activation</a></div><div class="item-right docblock-short">Utilities for handling activation requests with the <code>xdg_activation</code> protocol</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="smithay" data-themes="" data-resource-suffix="" data-rustdoc-version="1.69.0-nightly (5e37043d6 2023-01-22)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>